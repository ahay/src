\published{SEG Expanded Abstracts, 2485-2490, (2015)}

\title{Investigating the possibility of locating microseismic sources using distributed sensor networks}
\author{Junzhe Sun, Tieyuan Zhu, Sergey Fomel, The University of Texas at Austin, and Wen-Zhan Song, Georgia State University}

\maketitle

\lefthead{Sun et al.}
\righthead{Source location imaging}
\footer{TCCS}

\begin{abstract}
Distributed sensor networks are designed to provide computation in-situ and in real-time. The conventional time-reversal imaging approach for microseismic event location may not be optimal for such an environment. To address this challenge, we develop a methodology of locating multiple microseismic events with unknown start times based on the cross-correlation imaging condition borrowed from active-source seismic imaging. The imaging principle states that a true microseismic source must correspond to the location where all the backward-propagated events coincide in both space and time. Instead of simply stacking the backward-propagated seismic wavefields, as suggested by time-reversal imaging, we perform multiplication reduction to compute a high-resolution microseismicity map. The map has an extra dimension of time, indicating the start times of different events. Combined with a distributed sensor network, our method is designed for monitoring microseismic activities and mapping fracture development during hydraulic fracturing in-situ and in real-time. We use numerical examples to test the ability of the proposed technique to produce high-resolution images of microseismic locations.
\end{abstract}

\section{Introduction}
The development of unconventional reservoirs relies on hydraulic fracturing, a technique that stimulates fracture network and enhances permeability by injecting high-pressure fluids into production formations \cite[]{montgomery10}. Microseismic monitoring is currently the only technique that can provide real-time information about the geometry of stimulated fracture network \cite[]{maxwellbook}. The key task in microseismic monitoring is locating microseismic events. The traditional method for microseismic imaging is arrival-time inversion with traveltime picking adopted from earthquake seismology \cite[]{gibowicz13}. However, the microseismic data often contain unidentifiable P or S-wave signals emerging from strong background noise, e.g., surface microseismic data \cite[]{duncan10}. This makes traveltime picking challenging.

%Existing methods for microseismic imaging stems from either global seismology or exploration seismology, such as arrival-time inversion \cite[]{gibowicz13}, Kirchhoff migration or coherence scanning \cite[]{duncan10,jeremy14}, seismic interferometry \cite[]{schuster04} and time-reversal imaging \cite[]{luthesis}. More sophisticated methods such as full-waveform inversion have also been proposed recently to provide solutions for both event location and focal mechanism \cite[]{song11}. One technical difficulty for microseismic imaging is the unknown start times of microseismic events, and multiple events from one perforation stage are usually clustered. Detecting and discerning each hypocenter therefore require the microseismic image to be high-resolution in both space and time.

Recently progress has been made in locating seismic sources with minimum or without traveltime picking. \cite{rentsch2006fast} and \cite{rentsch2010migration} developed a source location method inspired by Gaussian-beam migration, which has low sensitivity to picking precision. \cite{kaoshan04} introduced a source-scanning algorithm in which data are aligned and stacked based on the traveltime from speculative image points in a manner similar to diffraction-stack (Kirchhoff) migration. Instead of using traveltimes, \cite{gajewski05} back propagated full-waveform data by reverse-time modeling \cite[]{mcmechan82}. \cite{atm10} and \cite{witten11} generalized this approach using P- and S-waves. \cite{zhu2014time} improved the source properties by applying attenuation compensation. Time-reversal imaging is capable of inferring both the location and the start time of a point source, however, it may fail to locate rupture propagation \cite[]{kremers11}, i.e., multiple sources clustered along the time axis. Detecting and discerning each hypocenter therefore requires an evolving microseismic image that has high-resolution in both space and time.

Distributed sensor networks are designed to perform computation in-situ and in real-time. Recently, they have been used for seismic tomography based on the advanced wireless sensor network technology and distributed computing algorithms \cite[]{SSXX-SECON2013,SLK-SEG2015}. Instead of collecting data to a central place for processing, the distributed seismic data processing and computing can be performed on a single sensor or locally on a few sensors. The results are then gathered for real-time visualization. Employing distributed sensor networks for microseismic monitoring requires a distributed microseismic location algorithm.

In this paper, we develop a distributed microseismic imaging algorithm that is inspired by both passive-source time-reversal imaging and active-source migration imaging. The key innovation is that the imaging principle requires that the imaged hypocenters must correspond to locations where all the wavefields individually backward-propagated from each receiver coincide in both space and time. Our method should be capable of producing high-resolution images of multiple source locations, even when the signal-to-noise ratio (SNR) is low. The processing framework detailed in this paper is naturally suited for distributed sensor networks.
%can utilize various types migration methods, such as Kirchhoff-migration and reverse-time migration (RTM). It 

%The paper is organized as follows. First we introduce the proposed cross-correlation imaging condition for locating seismic sources and establish a connection with time-reversal imaging. Next, using numerical examples, we demonstrate that our methods is capable of accurately image multiple microseismic locations with unknown start times. We also provide possible solutions to improve microseismic image quality when the data suffers from low signal-to-noise (S/N) ratio. Finally, we discuss the possible application of the proposed framework to real-time in-situ microseismic monitoring on distributed sensor network.
We first introduce the cross-correlation imaging condition for locating microseismic sources and establish a connection with time-reversal imaging. Synthetic examples are used to test the ability of the proposed approach to image multiple microseismic locations at once. We discuss a possible application of the proposed framework to real-time in-situ microseismic monitoring on distributed sensor networks.

\section{Theory}
\inputdir{.}
In prestack seismic reflection imaging, a reflector is imaged when the source wavefield coincides with the receiver wavefield in both space and time \cite[]{IEI}. For poststack or zero-offset data, reflectors can be imaged using the exploding reflector concept \cite[]{loewenthal76}. The imaging condition of exploding reflector is similar to that of time-reversal imaging, which states that the backward-propagated wavefield at zero time corresponds to the reflectors/sources. The principle of time-reversal imaging can be used for locating passive earthquake hypocenters \cite[]{gajewski05}. All the aforementioned imaging conditions require the start times of seismic sources to be available, which is not the case for microseismic data. Therefore, most existing time-reversal imaging algorithms need to perform scanning and picking on a group of potential start times \cite[]{fink2006time,maxwellbook}.

Motivated by the development of distributed sensor networks, we propose to adopt the imaging principle of prestack migration for locating microseismic hypocenters. We treat the wavefield back propagated from each individual receiver as an independent wavefield, and define microseismic hypocenters as the locations where all the wavefields coincide in both space and time. The imaging condition is formulated as a multiplication reduction of all the back propagated wavefields, calculated using data from each receiver:
\begin{equation}
\label{eq:ic-mult}
I(\mathbf{x},t) = \prod\limits_{i=0}^{N-1} R_i(\mathbf{x},t) \; .
\end{equation}
A similar technique was developed by Nakata (2015, personal communication). Assuming the velocity model is accurate and data contains zero noise, the image $I(\mathbf{x},t)$ should have non-zero values only if all the backward-propagated wavefields are non-zero at location $\mathbf{x}$ and time $t$, i.e., the starting of an earthquake. When noise is present in the data, extra non-zero values might appear in the image. However, as long as the noise has certain randomness, the amplitude of these false image points will be much weaker than those generated by coherent signal, and thresholding can effectively separate the non-zero values result from noise. The image $I(\mathbf{x},t)$ calculated by equation~\ref{eq:ic-mult} therefore indicates the seismicity at time $t$. The resolution of the image depends on the frequency content of the wavefields.

The conventional time-reversal imaging can be formulated in a similar fashion. Instead of performing multiplication, the image is produced by summing over all the receiver wavefields:
\begin{equation}
\label{eq:ic-sum}
I(\mathbf{x},t) = \sum\limits_{i=0}^{N-1} R_i(\mathbf{x},t) \; .
\end{equation}
In practice, this is done by backward-propagating all the data at once and the summation is implicit. When applied to microseismic data from multiple sources, it is usually a challenging task to pick the hypocenters from the complicated wavefield, especially when the data has a low SNR.

The cross-correlation imaging condition (equation~\ref{eq:ic-mult}) and time-reversal imaging condition (equation~\ref{eq:ic-sum}) represent two extremes. The image produced by equation~\ref{eq:ic-mult} is high-resolution and easy to pick, since only non-zero values in the image correspond to hypocenters. However, it requires propagating the wavefields using data from each receiver separately, and thus is computationally intensive. Equation~\ref{eq:ic-sum}, on the other hand, requires essentially only one computation using the entire data set, but has less resolving power and is less suitable for distributed networks. A hybrid imaging condition would combine the merits of the two:
\begin{equation}
\label{eq:ic-hyb}
I(\mathbf{x},t) = \prod\limits_{j=0}^{N/n-1} \sum\limits_{k=0}^{n-1} R_{j \times n+k}(\mathbf{x},t) \; ,
\end{equation}
where $n$ is the local summation window length. Length $n$ should be selected such that neighboring receivers are backward-propagated together while far-apart receivers are cross-correlated. Equation~\ref{eq:ic-hyb} requires $N/n$ computations of reverse-time modeling. In principle, both equation~\ref{eq:ic-mult} and \ref{eq:ic-hyb} need to perform cross-correlation using at least three wavefields to constrain one point in space. Schematically, the differences between the three imaging conditions is shown in Figure~\ref{fig:ic}.

\plot{ic}{width=0.45\textwidth}{Different imaging conditions for locating microseismic sources. A homogeneous medium and four receiver stations are assumed. A hybrid imaging condition calculates local summation before applying cross-correlation. In practice, the summation is performed implicitly by back propagating data from several neighboring receivers at once.}

A movie of accumulated seismicity can be generated by performing an integration over time:
\begin{equation}
\label{eq:ic-int}
M(\mathbf{x},t) = \int \limits_0^t I(\mathbf{x},\tau) d\tau \; ,
\end{equation}
Movie $M(\mathbf{x},t)$ is an evolving map of microseismicity in time that could be used to indicate rupture propagation. An image of all the sources corresponds the last instance of $M(\mathbf{x},t)$.

\section{Numerical Examples}

In the following examples we demonstrate the performance of the proposed method using two synthetic data experiments. We employ the pseudo-spectral method \cite[]{reshef} to solve the acoustic wave equation, with an exponential decay absorbing boundary condition \cite[]{cerjan}. The seismic sources are assumed to be a Ricker wavelet with a peak frequency of $20\;Hz$. The examples involve a number of simplifications but are designed simply to test the concept of microseismic imaging by cross-correlation imaging condition.

%\inputdir{cross}
%\plot{sov}{width=0.4\textwidth}{Microseismic source locations overlaid on velocity model.\label{fig:3layersov}}
%\plot{datatrace}{width=0.4\textwidth}{Noise-Free microseismic data from three-layer model.\label{fig:data3lclean}}
%\plot{location0}{width=0.4\textwidth}{Imaged microseismic source locations using cross-correlation imaging condition of noise-free data.\label{fig:3layerloc1}}
%\inputdir{noise}
%\plot{location0}{width=0.4\textwidth}{Imaged microseismic source locations using cross-correlation imaging condition of noisy data.\label{fig:3layerloc2}}
%\plot{datatrace}{width=0.4\textwidth}{Noisy microseismic data from three-layer model.\label{fig:data3lnoisy}}
%\inputdir{hyb}
%\plot{location0}{width=0.4\textwidth}{Imaged microseismic source locations using hybrid imaging condition of noisy data.\label{fig:3layerloc2}}

%\begin{figure*}[ht!]
%  \centering
%  \subfigure[]{\includegraphics[height=0.15\textheight]{cross/Fig/sov}
%    \label{fig:sov}}
%  \subfigure[]{\includegraphics[height=0.15\textheight]{cross/Fig/datatrace-clean}
%    \label{fig:datatrace-clean}}
%  \subfigure[]{\includegraphics[height=0.15\textheight]{cross/Fig/datatrace-noisy}
%    \label{fig:datatrace-noisy}}
%   \caption{(a) Microseismic source locations overlaid on a three-layer velocity model. (b) Noise-Free microseismic data from three-layer model. (c) Noisy microseismic data from three-layer model. The traces displayed on the right correspond to $X=1050\;m$.}
%   \label{threelayer}
%\end{figure*}

\subsection{Three-layer model}
\inputdir{cross}

In the first example, we used a three-layer model with six assumed microseismic sources located within the middle layer (Figure~\ref{fig:sov1}). The model is discretized on a $140 \times 140$ grid with $15\;m$ spacing in both vertical and horizontal directions. The model has sharp velocity contrasts, which generate multiple reflection events in both forward and backward propagation.

\multiplot{3}{sov1,datatrace-clean,datatrace-noisy}{height=0.145\textheight}{(a) Microseismic source locations overlaid on a three-layer velocity model. (b) Noise-Free microseismic data from three-layer model. (c) Noisy microseismic data from three-layer model. The traces displayed in the right panel correspond to $X=1050\;m$.}

We first use noise-free data (Figure~\ref{fig:datatrace-clean}) to test the sensitivity of the cross-correlation imaging condition to stratigraphic boundaries, which are common in unconventional reservoirs. We use data from only 10 surface stations starting from $X=75\;m$ and ending at $X=1965\;m$, with an interval of $210\;m$. After individually backward-propagating the receiver wavefields and applying the cross-correlation imaging condition (equation~\ref{eq:ic-mult}), we obtain a clean, high-resolution image which accurately locates all the correct hypocenters (Figure~\ref{fig:location0-clean}).

Next we introduce a strong random noise into the data (Figure~\ref{fig:location0-noisy}) to test the sensitivity of the method in such a setting. By keeping the number of receivers unchanged, the final image contains some false image points clustered around reflection boundaries. Additionally, although the image still contains all the true hypocenters, they are not well focused, i.e., some of the true hypocenters split across neighboring points.

To remove the artifacts caused by a low SNR, we employ the hybrid imaging condition (equation~\ref{eq:ic-hyb}) by including five receivers in one station. For example, the station at $X=75\;m$ now includes five receivers with an interval of $15\;m$. We still perform ten backward propagations, with each wavefield using data from five neighboring receivers. The image contains significantly less artifacts, with only one defocused point corresponding to the rightmost hypocenter (Figure~\ref{fig:location0-hyb}).

\multiplot{3}{location0-clean,location0-noisy,location0-hyb}{height=0.145\textheight}{(a) Microseismic source locations imaged by the cross-correlation imaging condition using noise-free data. (b) Microseismic source locations imaged by the cross-correlation imaging condition using noisy data. (c) Microseismic source locations imaged by the hybrid imaging condition using noisy data.}

\subsection{Marmousi model}
\inputdir{marm}

For the second example, we create a somewhat more realistic scenario by using a portion of the Marmousi velocity model \cite[]{marmousi}. The model dimension is $200 \times 200$ with a spatial sampling rate of $8\;m$ along the vertical direction and $12\;m$ along the horizontal direction. The model features a series of nearly parallel stratigraphic layers. To mimic an imaginary hydraulic fracturing process, we design three periods of assumed microseismicity propagating from left to right with a total of eighteen hypocenters, which corresponds to three stages of perforations (Figure~\ref{fig:marmsov}). The data has a high level of random background noise (Figure~\ref{fig:datamarm}). We employ the hybrid imaging condition using ten stations starting from $X=0\;m$ with a spacing of $240\;m$. Each station is again comprised of five neighboring sensors with an interval of $12\;m$. The images computed from the surface array data accurately locates all the hypocenters, and evolve with time according to equation~\ref{eq:ic-int} (Figures~\ref{fig:stage0-1}, \ref{fig:stage0-2} and \ref{fig:stage0-3}).

\plot{sov}{height=0.16\textheight}{Microseismic source locations overlaid on Marmousi velocity model. A total of three stages of microseismicity are assumed, each with six hypocenters. \label{fig:marmsov}}
\plot{datatrace}{height=0.16\textheight}{Noisy microseismic data from Marmousi model. The trace in the right panel corresponds to $X=1.2\;km$.\label{fig:datamarm}}
%\multiplot{2}{location0,location}{width=0.4\textwidth}{Imaged microseismic source locations using hybrid imaging condition of: (a) noisy data from surface array; (b) noisy data from both surface array and downhole sensors. \label{fig:marmloc}}

So far we have been focusing on using data from surface arrays. Recently, there is a growing use of multiple monitoring configurations such as combining downhole arrays with surface sensors to provide better wavefield sampling \cite[]{maxwellbook}. If available, data from downhole arrays/sensors can actually help improve the spatial resolution of imaged source locations, particularly in the vertical direction. In the last test, we combine data from the original surface arrays with data from four extra downhole sensors located at $X=0\;km$ and $Z=[0.24\;km,\;0.64\;km,\;1.04\;km,\;1.44\;km]$ respectively. The corresponding images demonstrate significantly higher vertical resolution thanks to the better sampling of the wavefield (Figures~\ref{fig:stage-1}, \ref{fig:stage-2} and \ref{fig:stage-3}). Our experiment confirms that combining surface and vertical borehole arrays can improve image resolution.

\multiplot{6}{stage0-1,stage0-2,stage0-3,stage-1,stage-2,stage-3}{height=0.15\textheight}{Accumulated microseismicity calculated by the hybrid imaging condition using: (a)-(c) noisy data from surface array; (d)-(f) noisy data from both surface array and downhole sensors. Each column is produced after one stage of perforation. \label{fig:marmloc}}

\section{Discussion and Conclusions}

%\subsection{Surface arrays combined with downhole arrays}
%The signal-to-noise (S/N) ratio and resolution of microseismic event location largely depend on the acquisition geometry and sampling of microseismic wavefield. Early microseismic monitoring projects employed arrays of three-component (3-C) seismic sensors in a single, near-vertcal borehole \cite[]{maxwell10a}. Monitoring arrays can also be deployed in the horizontal wells that are closer to production wells which results in improved sensitivity  \cite[]{maxwell10b}. Surface monitoring arrays offer an alternative solution without the need for a monitoring well, and is particularly advantageous in places where it is not feasible to drill monitoring wells \cite[]{duncan10}. Sensors can also be installed in the near surface shallow wells to minimize the surface footprint \cite[]{maxwell03}. Recently, there is a growing use of multiple monitoring configurations such as combining downhole arrays with surface sensors to provide better wavefield sampling \cite[]{maxwellbook}.
%The resolution of microseismic event location largely depend on the acquisition geometry and sampling of seismic wavefield. Early microseismic monitoring projects employed seismic sensors in a single, near-vertical borehole \cite[]{maxwell10a}. Surface monitoring arrays later offer an alternative solution without the need for a monitoring well \cite[]{duncan10}. Recently, there is a growing use of multiple monitoring configurations such as combining downhole arrays with surface sensors to provide better wavefield sampling \cite[]{maxwellbook}. Our experiment confirm that combining surface and vertical borehole arrays will improve image resolution.

Real-time microseismic monitoring provides invaluable information about stimulated fracture networks during hydraulic fracturing. Recently, wireless sensor networks have emerged as an effective tool for surface monitoring \cite[]{SHXM-MOBISYS2009}. Wireless networks are easier to deploy than wired networks. Additionally, the computation and communication capabilities of sensor nodes can be utilized for in-situ data processing in real-time \cite[]{KSS-DCOSS2013,SLK-SEG2015}. To enable microseismic monitoring using computation on distributed sensor networks, we have presented an approach where wavefield propagation can be performed independently using data collected by each station. Future research involves optimizing image reduction under the constraint of the wireless network resources (bandwidth, energy, computing power, memory, etc).

A cross-correlation imaging condition for locating microseismic hypocenters is capable of producing high-resolution images in both space and time, and is robust with respect to noise when used in a hybrid formulation. Combined with a distributed sensor network, the proposed technique should be able to provide real-time in-situ microseismic monitoring of stimulated fracture network during hydraulic fracturing.

\section{Acknowledgments}
We thank Nori Nakata and Yangkang Chen for helpful discussions. We thank TCCS sponsors for financial support. The first author is supported additionally by the Statoil Fellows Program at UT Austin. The second author is supported by the Jackson School Distinguished Postdoctoral Fellowship at UT Austin. The fourth author acknowledges the support of the JTO faculty fellowship in the ICES at UT Austin.

%\onecolumn

\bibliographystyle{seg}
\bibliography{micro}
